(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(241)},151:function(e,t,a){},158:function(e,t,a){},241:function(e,t,a){"use strict";a.r(t);var n=a(248),r=a(0),c=a.n(r),l=a(27),o=a.n(l),i=a(3),s=(a(151),a(153),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function u(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var m=a(126),d=a.n(m)()(),p=a(15),E=a(16),h=a(20),b=a(17),f=a(19),g=(a(158),a(249)),v=a(247),O=a(127),y=a(250),C=function(e){var t=e.component,a=e.rest,n=e.currentUser;return c.a.createElement(O.a,Object.assign({},a,{render:function(e){return n.is_authenticated?c.a.createElement(t,e):c.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},N=a(4),_=a(39),w=a.n(_),U=function(e){return function(t){return t({type:"LOGGIN_ATTEMPT"}),w()("/auth/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:e.email,password:e.password}})}).then(function(e){return 401===e.status?e.json().then(function(e){t({type:"UNSUCCESSFUL_USER_LOGIN",payload:e})}):e.json().then(function(e){var a=Object.assign({},e,{is_authenticated:!0}),n="Succesfully Logged in as ".concat(e.email);t({type:"SUCCESSFUL_USER_LOGIN",payload:{currentUser:a,message:n}})})})}},j=function(e){return function(t){return t({type:"LOGGING_USER_OUT"}),w()("/auth/logout",{method:"delete",headers:{"Content-Type":"application/json","X-User-Email":e.email,"X-User-Token":e.authentication_token},body:JSON.stringify({user:{email:e.email}})}).then(t({type:"USER_LOGOUT",payload:{message:"Succesfully logged out"}}))}},S=function(e){return function(t){return t({type:"SIGNUP_ATTEMPT"}),w()("/auth/users",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:e.email,password:e.password}})}).then(function(e){201!==e.status?e.json().then(function(e){t({type:"UNSUCCESSFUL_USER_SIGNUP",payload:{message:e}})}):e.json().then(function(e){var a=Object.assign({},e,{is_authenticated:!0}),n="Succesfully Created an account as ".concat(e.email);t({type:"SUCCESSFUL_USER_SIGNUP",payload:{currentUser:a,message:n}})}),d.push("/dashboard")})}},T=function(e){return function(t){return t({type:"LOADING_CONTRACTS"}),w()("/auth/contracts",{method:"get",headers:{"Content-Type":"application/json","X-User-Email":e.email,"X-User-Token":e.authentication_token}}).then(function(a){200===a.status?a.json().then(function(a){var n=a.slice(0);t({type:"FETCH_CONTRACTS",allContracts:n,currentUser:e})}):a.json().then(function(a){t({type:"FETCH_CONTRACTS",message:a,currentUser:e})})})}},k=function(e,t,a,n){return function(a){return a({type:"TRANSFERING_CONTRACT"}),w()("/auth/contracts/".concat(n.blockchain_id),{method:"PATCH",headers:{"Content-Type":"application/json","X-User-Email":t.email,"X-User-Token":t.authentication_token},body:JSON.stringify({owner:{email:t.email},new_owner:{email:e.email},contract:{price:e.price}})}).then(function(e){200===e.status?e.json().then(function(e){a({type:"TRANSFER_CONTRACT",payload:{currentUser:e}})}):e.json().then(function(e){a({type:"TRANSFER_CONTRACT",payload:{message:e}})}),d.push("/dashboard")})}},R=function(){return function(e){return e({type:"LOADING_CONTRACTS"}),e({type:"TOGGLE_CONTRACTS"})}},A=a(129),L=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){return a.props.history.push("/dashboard/".concat(a.props.currentUser.id,"/contracts/").concat(e))},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.contract;return c.a.createElement("p",null,t.product_name," ",c.a.createElement("button",{onClick:function(){return e.handleClick(t.blockchain_id)}},"Show"))}}]),t}(r.Component),I=Object(y.a)(L),G=Object(y.a)(Object(i.b)(function(e,t){return"/dashboard"===t.location.pathname?{currentUser:e.currentUser,contracts:e.currentUser.current_contracts}:{currentUser:e.currentUser,contracts:e.allContracts}},function(e){return Object(N.bindActionCreators)({fetchContracts:T},e)})(function(e){var t=e.contracts,a=e.currentUser,n=e.history,r=e.location,l=t.map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(I,{contract:e,history:n,currentUser:a}))});return c.a.createElement("div",null,"/dashboard"===r.pathname&&c.a.createElement("h1",null,"Your Contracts"),c.a.createElement("ul",null,l))})),x=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){return a.props.history.push(e.target.attributes.href.value)},a.renderContracts=function(){a.props.toggleContracts()},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchContracts(this.props.currentUser)}},{key:"render",value:function(){var e=this,t=this.props,a=t.currentUser,n=t.isHidden;return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-offset col-md-12 col-lg-offset-3 col-lg-6"},c.a.createElement("div",{className:"well profile"},c.a.createElement("div",{className:"col-sm-12"},c.a.createElement("div",{className:"col-lg-12",align:"left"},c.a.createElement("h1",{align:"center"},"Welcome ",a.email),c.a.createElement("p",null,c.a.createElement("strong",null,"About: ")),c.a.createElement("p",null,c.a.createElement("strong",null,"Interests: ")),c.a.createElement("p",null,c.a.createElement("strong",null,"Skills: "))),c.a.createElement("div",{className:"col-xs-12 divider text-center"},c.a.createElement("div",{className:"col-xs-12 emphasis"},c.a.createElement("h2",null,c.a.createElement("strong",null,a.current_contracts.length)),c.a.createElement("p",null,"Number of Contracts"),c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.renderContracts()}},c.a.createElement("span",{className:"\tglyphicon glyphicon-off"})," My Contracts "),c.a.createElement("button",{type:"button",className:"btn btn-danger dropdown-toggle","data-toggle":"dropdown"},c.a.createElement("span",{className:"sr-only"},"Toggle Dropdown")),c.a.createElement("div",{className:"dropdown-menu"},c.a.createElement(A.a,{className:"dropdown-item",to:"/dashboard/".concat(a.id,"/contracts/new")},"New Contract"),c.a.createElement("a",{className:"dropdown-item",href:"#"},"Another action"),c.a.createElement("a",{className:"dropdown-item",href:"#"},"Something else here"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("a",{className:"dropdown-item",href:"#"},"Separated link"))))))),!1===n&&c.a.createElement(G,null))))}}]),t}(r.Component),P=Object(y.a)(Object(i.b)(function(e){return{currentUser:e.currentUser,isHidden:!e.currentUser.isHidden}},function(e){return Object(N.bindActionCreators)({fetchContracts:T,toggleContracts:R},e)})(x)),F=a(72),D=a(244),H=a(243),X=Object(y.a)(Object(i.b)(function(e){return{currentUser:e.currentUser}})(Object(H.a)({form:"TransferContract",transferContract:k})(function(e){e.values,e.dispatch;var t=e.handleSubmit,a=e.currentUser,n=e.contract;return c.a.createElement("div",null,c.a.createElement("h2",null,"Transfer"),c.a.createElement("form",{onSubmit:t(function(e,t){t(k(e,a,0,n))})},c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("strong",null,"Email")),c.a.createElement("br",null),c.a.createElement(D.a,{name:"email",component:"input",type:"text",placeholder:"Email"})),c.a.createElement("br",null),c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("strong",null,"Transfer Price")),c.a.createElement("br",null),c.a.createElement(D.a,{name:"price",component:"input",type:"number",placeholder:"Price",normalize:function(e){if(null===e||""===e||void 0===e)return"";var t=e.toString().replace(/[^\d.]/g,"");return t=t.slice(0,t.indexOf(".")>=0?t.indexOf(".")+3:void 0),parseFloat(t)}})),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",label:"submit"},"Transfer Ownership")))}))),q=a(68),M=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={copied:!1},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){for(var e=this,t=this.props.contract,a=t.histories.map(function(e){return Object.assign({},e)}),n=0;n<a.length;n++)a[n].id=n+1;return c.a.createElement("div",{align:"center"},c.a.createElement("h1",null,"Contract ID: ",t.blockchain_id),c.a.createElement("img",{src:""+"/uploads/contract/image/".concat(t.id,"/").concat(t.blockchain_id,".jpg"),alt:"logo",height:"250",width:"250"}),c.a.createElement(X,{contract:t}),c.a.createElement("h2",null,"Contract information"),c.a.createElement("p",null,c.a.createElement("strong",null,"Price:")," $",t.price),c.a.createElement("p",null,c.a.createElement("strong",null,"Product name: "),t.product_name),c.a.createElement("p",null,c.a.createElement("strong",null,"Product details: ")),c.a.createElement("p",null,t.product_info),c.a.createElement(q.CopyToClipboard,{text:window.location.href.split("/")[0]+"//"+window.location.href.split("/")[2]+"/contracts/"+window.location.href.split("/")[window.location.href.split("/").length-1],onCopy:function(){return e.setState({copied:!0})}},c.a.createElement("button",null,"Copy Link to Clipboard")),this.state.copied?c.a.createElement("div",null,c.a.createElement("span",{style:{color:"red"}},"Copied.")):null,c.a.createElement("button",{onClick:function(){return window.open("/contracts/".concat(t.blockchain_id,"/code"),"_blank")}},"Generate QR Code"),c.a.createElement("h3",null,"History"),c.a.createElement("div",null,c.a.createElement(F.BootstrapTable,{data:a},c.a.createElement(F.TableHeaderColumn,{isKey:!0,dataField:"id"},"Transfer ID"),c.a.createElement(F.TableHeaderColumn,{dataField:"transfer_price",dataFormat:function(e,t){return"$".concat(e)}},"Transfer Price"))))}}]),t}(r.Component),W=Object(y.a)(Object(i.b)(function(e,t){var a=e.currentUser.current_contracts.find(function(e){return e.blockchain_id===t.match.params.contractId});return a?{contract:a}:{contract:{}}})(M)),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={copied:!1},a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.contract;return c.a.createElement("div",{align:"center"},c.a.createElement("h1",null,"Certificate of Authenticity"),c.a.createElement("h2",null,"Contract ID: ",t.blockchain_id),c.a.createElement("br",null),c.a.createElement("img",{src:""+"/uploads/contract/image/".concat(t.id,"/").concat(t.blockchain_id,".jpg"),alt:"logo",height:"250",width:"250"}),c.a.createElement("h2",null,"Contract information"),c.a.createElement("p",null,c.a.createElement("strong",null,"Price:")," $",t.price),c.a.createElement("p",null,c.a.createElement("strong",null,"Product name: "),t.product_name),c.a.createElement("p",null,c.a.createElement("strong",null,"Product details: ")),c.a.createElement("p",null,t.product_info),c.a.createElement(q.CopyToClipboard,{text:window.location.href,onCopy:function(){return e.setState({copied:!0})}},c.a.createElement("button",null,"Copy Link to Clipboard")),this.state.copied?c.a.createElement("div",null,c.a.createElement("span",{style:{color:"red"}},"Copied.")):null,c.a.createElement("button",{onClick:function(){return window.open("/contracts/".concat(t.blockchain_id,"/code"),"_blank")}},"Generate QR Code"))}}]),t}(r.Component),Z=Object(y.a)(Object(i.b)(function(e,t){var a=e.allContracts.find(function(e){return e.blockchain_id===t.match.params.contractId});return a?{contract:a}:{contract:{}}})(J)),$=a(245),B=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,l=r.touched,o=r.error,i=r.warning;return c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("strong",null,a)),c.a.createElement("input",Object.assign({},t,{placeholder:a,type:n,className:"form-control input-md"})),l&&(o&&c.a.createElement($.a,{bsStyle:"danger"},c.a.createElement("strong",null,o))||i&&c.a.createElement("span",null,i)))},z=Object(y.a)(Object(i.b)()(Object(H.a)({form:"LoginUser",loginUser:U,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<7&&(t.password="Must be greater than 7"):t.password="Required",t}})(function(e){e.values;var t=e.handleSubmit,a=e.dispatch;e.location;return c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"container-login"},c.a.createElement("div",{className:"stencil"},c.a.createElement("div",{className:"line"},c.a.createElement("div",{className:"line"}))),c.a.createElement("div",{className:"border-triangle"}),c.a.createElement("div",{className:"content-triangle"}),c.a.createElement("div",{className:"enter-triangle-one"}),c.a.createElement("div",{className:"enter-triangle-two"}),c.a.createElement("form",{onSubmit:t(function(e){a(U(e))})},c.a.createElement("div",null,c.a.createElement("label",null,"LOGIN")),c.a.createElement("div",{className:"input-inform"},c.a.createElement(D.a,{name:"email",component:B,type:"text",placeholder:"Email",label:"Email"}),c.a.createElement(D.a,{name:"password",component:B,type:"password",placeholder:"Password",label:"Password"})),c.a.createElement("div",{className:"enter"},c.a.createElement("button",{type:"submit",label:"submit",className:"btn-lg btn-info"},"Login")),c.a.createElement("div",{className:"form-links"},c.a.createElement("span",{className:"glyphicon glyphicon-user text-primary"})," ",c.a.createElement(A.a,{to:"/signup",className:"btn-lg btn btn-light"},"Signup")))))}))),Q=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,l=r.touched,o=r.error,i=r.warning;return c.a.createElement("div",null,c.a.createElement("label",null,c.a.createElement("strong",null,a)),c.a.createElement("input",Object.assign({},t,{placeholder:a,type:n,className:"form-control input-md"})),l&&(o&&c.a.createElement($.a,{bsStyle:"danger"},c.a.createElement("strong",null,"Required"))||i&&c.a.createElement("span",null,o)))},K=Object(y.a)(Object(i.b)()(Object(H.a)({form:"SignupUser",signupUser:S,validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password?e.password.length<7&&(t.password="Must be greater than 7"):t.password="Required",t}})(function(e){e.values;var t=e.handleSubmit,a=e.dispatch;e.location;return c.a.createElement("div",{className:"wrapper"},c.a.createElement("div",{className:"container-login"},c.a.createElement("div",{className:"stencil"},c.a.createElement("div",{className:"line"},c.a.createElement("div",{className:"line"}))),c.a.createElement("div",{className:"border-triangle"}),c.a.createElement("div",{className:"content-triangle"}),c.a.createElement("div",{className:"enter-triangle-one"}),c.a.createElement("div",{className:"enter-triangle-two"}),c.a.createElement("form",{onSubmit:t(function(e){a(S(e))})},c.a.createElement("div",null,c.a.createElement("label",null,"SIGNUP")),c.a.createElement("div",{className:"input-inform"},c.a.createElement(D.a,{name:"email",component:Q,type:"text",placeholder:"Email",label:"Email"}),c.a.createElement(D.a,{name:"password",component:Q,type:"password",placeholder:"Password",label:"Password"})),c.a.createElement("div",{className:"enter"},c.a.createElement("button",{type:"submit",label:"submit",className:"btn-lg btn-info"},"Sigup")),c.a.createElement("div",{className:"form-links"},c.a.createElement("span",{className:"glyphicon glyphicon-user text-primary"})," ",c.a.createElement(A.a,{className:"btn-lg btn btn-light",to:"/login"},"Login")))))}))),Y=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props.location;return"/login"===e.pathname?c.a.createElement(z,null):"/signup"===e.pathname?c.a.createElement(K,null):void 0}}]),t}(r.Component),V=Object(y.a)(Object(i.b)()(Y)),ee=a(53),te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(b.a)(t).call(this,e))).onChange=a.onChange.bind(Object(ee.a)(Object(ee.a)(a))),a}return Object(f.a)(t,e),Object(E.a)(t,[{key:"onChange",value:function(e){var t=this.props.input.onChange;t(e.target.files[0])}},{key:"render",value:function(){return c.a.createElement("input",{type:"file",onChange:this.onChange})}}]),t}(c.a.Component),ae=Object(y.a)(te),ne=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,l=r.touched,o=r.error,i=r.warning;return c.a.createElement("div",null,c.a.createElement("strong",null,c.a.createElement("label",null,a)),c.a.createElement("div",null,c.a.createElement("input",Object.assign({},t,{placeholder:a,type:n})),l&&(o&&c.a.createElement("span",null,o)||i&&c.a.createElement("span",null,i))))},re=function(e){var t=e.input,a=e.label,n=e.type,r=e.meta,l=r.touched,o=r.error,i=r.warning;return c.a.createElement("div",null,c.a.createElement("strong",null,c.a.createElement("label",null,a)),c.a.createElement("div",null,c.a.createElement("textarea",Object.assign({},t,{placeholder:a,type:n})),l&&(o&&c.a.createElement("span",null,c.a.createElement("strong",null,o))||i&&c.a.createElement("span",null,i))))},ce=Object(y.a)(Object(i.b)(function(e){return{currentUser:e.currentUser}})(Object(H.a)({form:"ContractNew",validate:function(e){var t={};return e.name||(t.name="Required"),e.details||(t.details="Required"),t}})(function(e){e.values,e.dispatch;var t=e.handleSubmit,a=e.currentUser;return c.a.createElement("div",{className:"center-container"},c.a.createElement("div",{className:"main"},c.a.createElement("h1",{className:"w3layouts_head"},"Create a New Contract"),c.a.createElement("div",{className:"w3layouts_main_grid"},c.a.createElement("form",{onSubmit:t(function(e,t){t(function(e,t){return function(a){var n=new FormData;return n.append("product_name",e.name),n.append("product_info",e.details),n.append("image",e.image),n.append("price",e.price),a({type:"CREATING_CONTRACT"}),w()("/auth/contracts",{method:"post",headers:{"X-User-Email":t.email,"X-User-Token":t.authentication_token},body:n}).then(function(e){201===e.status?e.json().then(function(e){a({type:"CREATE_CONTRACT",payload:{contract:e,currentUser:t}}),d.push("/dashboard/".concat(t.id,"/contracts/").concat(e.blockchain_id))}):e.json().then(function(e){a({type:"CREATE_CONTRACT",payload:{message:e}})})})}}(e,a))}),className:"w3_form_post"},c.a.createElement("div",{className:"w3_agileits_main_grid w3l_main_grid"},c.a.createElement("span",{className:"agileits_grid"},c.a.createElement(D.a,{name:"name",component:ne,type:"text",placeholder:"Name",label:"Name"}))),c.a.createElement("div",{className:"w3_agileits_main_grid w3l_main_grid"},c.a.createElement("span",{className:"agileits_grid"},c.a.createElement(D.a,{name:"details",component:re,type:"text",placeholder:"Details",label:"Details"}))),c.a.createElement("div",{className:"w3_agileits_main_grid w3l_main_grid"},c.a.createElement("span",{className:"agileits_grid"},c.a.createElement("label",null,c.a.createElement("strong",null,"Image")),c.a.createElement(D.a,{type:"file",name:"image",component:ae}))),c.a.createElement("div",{className:"w3_agileits_main_grid w3l_main_grid"},c.a.createElement("span",{className:"agileits_grid"},c.a.createElement("label",null,c.a.createElement("strong",null,"Price")),c.a.createElement(D.a,{name:"price",component:ne,type:"number",placeholder:"Price",normalize:function(e){if(null===e||""===e||void 0===e)return"";var t=e.toString().replace(/[^\d.]/g,"");return t=t.slice(0,t.indexOf(".")>=0?t.indexOf(".")+3:void 0),parseFloat(t)}}))),c.a.createElement("div",{className:"w3_main_grid"},c.a.createElement("div",{className:"w3_main_grid_right"},c.a.createElement("input",{type:"submit",value:"Submit"})))))))}))),le=function(e){var t=e.component,a=e.rest,n=e.currentUser,r=e.location;return c.a.createElement(O.a,Object.assign({},a,{render:function(e){return function(e,t){var a=e.current_contracts.find(function(e){return e.blockchain_id===t.pathname.split("/")[4]});return!(void 0===a||null===a)}(n,r)?c.a.createElement(t,e):c.a.createElement(v.a,{to:{pathname:"/contracts/".concat(r.pathname.split("/")[4]),state:{from:e.location}}})}}))},oe=a(136),ie=a.n(oe),se=Object(y.a)(Object(i.b)(function(e,t){var a=e.allContracts.find(function(e){return e.blockchain_id===t.match.params.contractId});return a?{contract:a}:{contract:{}}})(function(e){var t=e.contract;e.self;return c.a.createElement("div",{align:"center"},c.a.createElement("h2",null,"Click on Code to Download"),c.a.createElement("br",null),c.a.createElement(ie.a,{size:200,onClick:function(e){return function(e){var a=e.currentTarget,n=document.createElement("a");n.download="".concat(t.blockchain_id),n.href=a.toDataURL("image/png;base64"),n.click()}(e)},value:window.location.href.split("/")[0]+"//"+window.location.href.split("/")[2]+"/contracts/"+t.blockchain_id}))})),ue=Object(y.a)(Object(i.b)()(function(e){var t=e.currentUser;e.location,e.match;return function(e){return e.is_authenticated?c.a.createElement(g.a,null,c.a.createElement(v.a,{from:"/",exact:!0,to:"/dashboard"}),c.a.createElement(v.a,{from:"/login",to:"/dashboard"}),c.a.createElement(v.a,{from:"/signup",to:"/dashboard"}),c.a.createElement(C,{exact:!0,path:"/dashboard",component:P,currentUser:e}),c.a.createElement(C,{exact:!0,path:"/dashboard/".concat(e.id,"/contracts/new"),component:ce,currentUser:e}),c.a.createElement(le,{exact:!0,path:"/dashboard/".concat(e.id,"/contracts/:contractId"),component:W,currentUser:e}),c.a.createElement(O.a,{exact:!0,path:"/contracts",component:G}),c.a.createElement(O.a,{exact:!0,path:"/contracts/:contractId",component:Z,currentUser:e}),c.a.createElement(O.a,{exact:!0,path:"/contracts/:contractId/code",component:se,currentUser:e})):c.a.createElement(g.a,null,c.a.createElement(v.a,{from:"/",exact:!0,to:"/login"}),c.a.createElement(v.a,{from:"/dashboard",exact:!0,to:"/login"}),c.a.createElement(O.a,{exact:!0,path:"/login",component:V}),c.a.createElement(O.a,{exact:!0,path:"/signup",component:V}),c.a.createElement(O.a,{exact:!0,path:"/contracts",component:G}),c.a.createElement(O.a,{exact:!0,path:"/contracts/:contractId",component:Z,currentUser:e}))}(t)})),me=a(242),de=Object(y.a)(Object(i.b)(null,function(e){return Object(N.bindActionCreators)({logoutUser:j},e)})(function(e){var t=e.currentUser,a=e.logoutUser,n=function(){return a(t)};return function(e){return e.is_authenticated?c.a.createElement("nav",{className:"navbar navbar-default"},c.a.createElement("div",{id:"navbarCollapse",className:"collapse navbar-collapse"},c.a.createElement("ul",{className:"nav navbar-nav"},c.a.createElement("li",null,c.a.createElement(me.a,{to:"/dashboard"},"DASHBOARD")),c.a.createElement("li",null,c.a.createElement(me.a,{to:"/contracts"},"CONTRACTS")),c.a.createElement("li",null,c.a.createElement(me.a,{to:"/login",onClick:n},"LOG OUT"))))):c.a.createElement("nav",{className:"navbar navbar-default"})}(t)})),pe=function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"App"},c.a.createElement(de,{currentUser:this.props.currentUser}),c.a.createElement(ue,{currentUser:this.props.currentUser}))}}]),t}(r.Component),Ee=Object(y.a)(Object(i.b)(function(e){return{currentUser:e.currentUser}})(pe)),he=a(137),be=a(246),fe=a(89),ge=a(138),ve=a.n(ge),Oe=a(141),ye=a(139),Ce={key:"root",storage:ve.a,blacklist:["form"]},Ne=Object(N.combineReducers)({allContracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CONTRACTS":return!0===t.currentUser.is_authenticated?t.allContracts:e;case"USER_LOGOUT":return[];case"CREATE_CONTRACT":var a=t.payload.contract;return void 0!==a?Object(Oe.a)(e).concat([a]):e;case"ADD_LIKE_CONTRACT":var n=e.map(function(e){return Object.assign({},e)});return n.map(function(e){e.id===t.contract.id&&(e.likes=t.contract.likes)}),n;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{is_authenticated:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESSFUL_USER_LOGIN":return!0===t.payload.currentUser.is_authenticated?Object.assign({},t.payload.currentUser):e;case"USER_LOGOUT":return Object.assign({},{is_authenticated:!1});case"SUCCESSFUL_USER_SIGNUP":return!0===t.payload.currentUser.is_authenticated?Object.assign({},t.payload.currentUser):Object.assign({},e,t.payload);case"CREATE_CONTRACT":var a=t.payload.contract;if(void 0!==a){var n=Object.assign({},t.payload.currentUser,{message:"Succesfully created a contract"});return n.current_contracts.push(a),n}return Object.assign({},e,t.payload);case"TRANSFER_CONTRACT":return void 0===t.payload.currentUser?Object.assign({},e,t.payload):Object.assign({},e,t.payload.currentUser,{message:"Succesfully transfered ownership"});case"TOGGLE_CONTRACTS":return Object.assign({},e,{isHidden:!e.isHidden});default:return e}},form:be.a,contractNew:be.a,message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESSFUL_USER_LOGIN":var a=t.payload.message;return a;case"UNSUCCESSFUL_USER_LOGIN":case"USER_LOGOUT":case"UNSUCCESSFUL_USER_SIGNUP":case"SUCCESSFUL_USER_SIGNUP":return a=t.payload.message;default:return e}}}),_e=Object(fe.a)(Ce,Ne),we=[he.a],Ue=Object(N.createStore)(_e,Object(ye.composeWithDevTools)(N.applyMiddleware.apply(void 0,we))),je=Object(fe.b)(Ue),Se=a(140);o.a.render(c.a.createElement(i.a,{store:Ue},c.a.createElement(Se.PersistGate,{persistor:je},c.a.createElement(n.a,{history:d},c.a.createElement(Ee,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):u(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):u(e)})}}()}},[[143,2,1]]]);
//# sourceMappingURL=main.6be4037c.chunk.js.map